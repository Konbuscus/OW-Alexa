'StartGiftIntent': function() {

    let accessToken = app.googleAction().getAccessToken();
    let userId = app.googleAction().getUserId();

    if (accessToken === '') {

        app.googleAction().showAccountLinkingCard();

    } else {

        getUserDetails(accessToken, result => {

            console.log(accessToken);
            console.log(userId);
            console.log(result);

            //set session variables
            app.setSessionAttribute('hash_userId', stringHash(userId, secret_key));
            app.setSessionAttribute('name', result.name );
            app.setSessionAttribute('first_name', result.given_name);
            app.setSessionAttribute('last_name', result.family_name);
            app.setSessionAttribute('email', result.email );

            //get variables
            let name = app.getSessionAttribute('name');
            let first_name = app.getSessionAttribute('first_name');
            let last_name = app.getSessionAttribute('last_name');
            let email = app.getSessionAttribute('email');
            let hash_userId = app.getSessionAttribute('hash_userId');

            //check to see if user exists in our system
            checkIfExistingUser(app.getSessionAttribute('email'), result => {

                app.setSessionAttribute('name', result[0].amazon_user_fullname);
                app.setSessionAttribute('first_name', result[0].amazon_first_name);
                app.setSessionAttribute('last_name', result[0].amazon_last_name);
                app.setSessionAttribute('email', result[0].amazon_email);
                app.setSessionAttribute('postal_code', result[0].amazon_postal_code);
                app.setSessionAttribute('phone', result[0].phone);
                app.setSessionAttribute('customer_id', result[0].customer_id);
                app.setSessionAttribute('confirm_pin', result[0].confirm_pin);

                let attributes = app.getSessionAttributes();
                console.log(attributes);

                //ask for gif amount
                app.ask('Tell me your gift amount. Say give, followed by an amount of five dollars or more. If you would like me to choose your gift amount, say roll the dice.', 'Tell me your gift amount. Say give, followed by an amount of five dollars or more. If you would like me to choose your gift amount, say roll the dice.');

            }, error => {

                //set variables and add them to database
                name = app.getSessionAttribute('name');
                first_name = app.getSessionAttribute('given_name');
                last_name = app.getSessionAttribute('family_name');
                email = app.getSessionAttribute('email');
                hash_userId = app.getSessionAttribute('hash_userId');

                //addUserDetails(name, first_name, last_name, email, phone, address1, address2, address3, city, state, county, zip, hash_userid, userid);
                addUserDetails(name, first_name, last_name, email, null, null, null, null, null, null, null, null, hash_userId, userId); <|//console.log> ('You need to create your profile. Would you like to do that now?');
                app.ask('You need to create your profile. Would you like to do that now?', 'You need to create your profile. Would you like to do that now?');

            });

        }, error => {

            this.tell('There was a problem retrieving your account information. Please try again later.');

        });

    } //closes if else statement
},